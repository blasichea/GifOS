<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Andres Blasiche">
    <link rel="stylesheet" href="./styles/styles.css">
    <link id="temas" rel="stylesheet" href="./styles/temas/day.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/RecordRTC/5.5.8/RecordRTC.js"></script>
    <script defer src="./scripts/captura.js"></script>
    <title>Mis Guifos</title>
</head>
<body>
    <header>
        <div class="back-grad" id="top">
            <h1>¡Bienvenidos/as a Guifos.com! ——————Donde los gifs están.////// Número de visitas: 12.765.803</h1>
        </div>
        <nav>
            <div>
                <a href="./index.html"><div id="back-arrow"></div></a>
                <div id="logo"></div>
            </div>
            <div id="botones">
                <button class="button-theme" id="create" onclick="window.open('captura.html', '_self')">
                    Crear Guifos
                </button>
                
                <button class="button-theme no-border-right">
                    Elegir tema
                </button>
                <button class="dropbtn button-theme" id="dropbtn" onclick="desplegar()">
                    <img id="img-down" src="./images/dropdown.svg" alt="Desplegar">
                </button>
                
                <div class="back-grey shadow2" id="dropdown">
                    <button class="button-theme" onclick="changeTheme('1')">Sailor Day</button>
                    <button class="button-theme" onclick="changeTheme('2')">Sailor Night</button> 
                </div>
            </div>
        </nav>
    </header>
    <main>
        <section id="capturar">
            <div class="back-grey" id="crear">
                <h2 class="back-grad title-text">Crear Guifos</h2>
                <div id="icon-title">
                    <img src="./images/ventanita.png" alt="icono ventana">
                    <h2 class="bold">Aquí podrás crear tus propios guifos</h2>
                </div>
                <div id="texto">
                    <p>Crear tu <span class="italic-bold">guifo</span> es muy fácil, graba cualquier imagen con tu cámara y obtén guifos personalizados. Los pasos para crear tu guifo son:</p>
                    <p><span class="bold">1)</span> Dar permisos de acceso a la cámara (sólo por el tiempo de uso)</p>
                    <p><span class="bold">2)</span> Capturar tu momento guifo</p>
                    <p><span class="bold">3)</span> Revisar el momento</p>
                    <p><span class="bold">4)</span> Listo para subir y compartir!</p>
                    <p>¿Quieres comenzar a crear tu <span class="italic-bold">guifo</span> ahora?</p>
                </div>
                <div class="flex-row-end" id="btn-crear">
                    <button class="button-secondary" onclick="cancel()">
                        Cancelar
                    </button>
                    <button class="button-theme" onclick="startVideo()">
                        Comenzar
                    </button>
                </div>
            </div>
        </section>

        <section id="grabadora">
            <div id="grabar">
                <div class="top-bar back-grad">
                    <h2 class="title-text" id="title-bar">Un Chequeo Antes de Empezar</h2>
                    <img class="btn-x" src="./images/buttonX.svg" onclick="cerrar()" alt="cerrar">
                </div>

                <div id="cont-video">
                    <video id="preview"></video>
                    <img id="vista" src="./images/cargando.gif" alt="gif preview">
                    <div id="carga">
                        <img src="./images/globe_img.png" alt="globo terraqueo">
                        <span class="bold">Estamos subiendo tu guifo…</span>
                        <div id="barra-upload"><div class="cuadrito"></div></div>
                        <span id="chico">Tiempo restante: algunos minutos</span>
                    </div>
                </div>

                <div class="flex-row-end" id="btn-video">
                    <div class="flex-row-end" id="captura">
                        <button id="camera" class="button-theme no-border-right">
                            <img src="./images/camera.svg" alt="camara">
                        </button>
                        <button class="button-theme no-border-left" id="btn-captura" onclick="recordVideo()">
                            Capturar
                        </button>
                    </div>

                    <div class="flex-row-end" id="listo">
                        <!-- Temporizador -->
                        <button class="btn-listo no-border-right" id="recording">
                            <img src="./images/recording.svg" alt="recording">
                        </button>
                        <button class="btn-listo no-border-left" id="btn-stop" onclick="listo()">
                            Listo
                        </button>
                    </div>

                    <div class="flex-row-end" id="subir">
                        <!-- Barra con PLAY -->
                        <button class="button-secondary" id="btn-repetir" onclick="repetir()">
                            Repetir Captura
                        </button>
                        <button class="button-theme" id="btn-subir" onclick="subir()">
                            Subir Guifo
                        </button>
                    </div>

                    <div class="flex-row-end" id="subiendo">
                        <button class="button-secondary" onclick="cancelar()">
                            Cancelar
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <section id="resultado">
            <div id="result">
                <div class="top-bar back-grad">
                    <h2 class="title-text">Guifo Subido Con Éxito</h2>
                    <img class="btn-x" src="./images/buttonX.svg" alt="cerrar">
                </div>
                <div id="ver-result">
                    <div id="reproducir">
                        <img src="./images/cargando.gif" id="gif-result" alt="vista de gif">
                    </div>
                    <div id="btn-result">
                        <span class="bold">Guifo creado con éxito</span>
                        <button class="button-theme" onclick="copyUrl()">
                            Copiar Enlace Guifo
                        </button>
                        <a id="link" href="#" download="miGuifo">
                            <button class="button-theme">Descargar Guifo</button>
                        </a>
                    </div>
                </div>
                <div class="flex-row-end" id="listo2">
                    <button class="button-theme" onclick="finalizar()">
                        Listo
                    </button>
                </div>
            </div>
        </section>

        <section id="misguifos">
            <h2 class="title">Mis guifos</h2>
            <div class="frame-container" id="container">
                <div class="frame-trending">
                    <div class="gif">
                        <img class="my-img" src="./images/cargando.gif" alt="gif">
                    </div>
                </div>
            </div>
        </section>

    </main>

</body>
</html>